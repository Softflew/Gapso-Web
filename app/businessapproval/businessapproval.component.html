<heada></heada>
<sidebar></sidebar>

<!-- begin #content -->
<div id="content" class="content">
    <!-- begin page-header -->
    <h1 style="margin-top: 50px;" class="page-header">Business Management</h1>
    <!-- end page-header -->
    <!-- begin row -->
    <div class="row">
        <!-- begin col-12 -->
        <div class="col-md-12">
            <alert></alert>
            <!-- begin panel -->
                <div class="panel-body panel-form">
                    <table class="table table-striped table-bordered" [mfData]="businesses" #mf="mfDataTable" [mfRowsOnPage]="5">
                        <thead>
                            <tr>
                                <th style="width: 5%">S/No</th>
                                <th style="width: 30%"><mfDefaultSorter by="name">Name</mfDefaultSorter></th>
                        <th style="width: 10%"><mfDefaultSorter by="mailingAddress">Mailing Address</mfDefaultSorter></th>
                        <th style="width: 20%"><mfDefaultSorter by="createdDate">Created Date</mfDefaultSorter></th>
                        <th style="width: 20%"><mfDefaultSorter by="owner.surname">Owner</mfDefaultSorter></th>
                        <th style="width: 20%"><mfDefaultSorter by="owner.emailAddress">Email Address</mfDefaultSorter></th>
                        <th style="width: 20%"><mfDefaultSorter by="owner.phoneNumber">Phone No.</mfDefaultSorter></th>
                        <th style="width: 20%"><mfDefaultSorter by="approved">Approved?</mfDefaultSorter></th>
                        <th style="width: 20%"><mfDefaultSorter by="active">Active?</mfDefaultSorter></th>
                        </tr>
                        </thead>
                        <tbody>
                            <tr *ngFor="let item of mf.data; let i = index">
                                <td>{{i + 1}}</td>
                                <td>{{item.name}} </td>
                                <td>{{item.mailingAddress}} </td>
                                <td>{{item.createdDate | date:'dd-MM-yyyy'}}</td>
                                <td>{{item.owner.surname | uppercase}} {{item.owner.firstName}} </td>
                                <td>{{item.owner.emailAddress}}</td>
                                <td>{{item.owner.phoneNumber}}</td>
                                <td><span *ngIf="item.approved">Approved</span><span *ngIf="!item.approved"><button type="submit" class="btn btn-small btn-success" (click)="approveBusiness(item.id);">Approve</button> - <button type="submit" class="btn btn-small btn-danger" (click)="declineBusiness(item.id);">Decline</button></span></td>
                                <td><span *ngIf="item.active"><button type="submit" class="btn btn-small btn-danger" (click)="deactivateBusiness(item.id);">De-Activate</button></span><span *ngIf="!item.active"><button type="submit" class="btn btn-small btn-success" (click)="activateBusiness(item.id);">Activate</button></span></td>
                            </tr>
                        </tbody>
                        <tfoot>
                            <tr>
                                <td colspan="9">
                        <mfBootstrapPaginator [rowsOnPageSet]="[5,10,25]"></mfBootstrapPaginator>
                        </td>
                        </tr>
                        </tfoot>
                    </table>
                </div>
            </div>
            <!-- end panel -->
        </div>
    </div>

